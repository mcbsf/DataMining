{"after": null, "whitelist_status": "all_ads", "modhash": "", "dist": null, "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2s3qj", "approved_at_utc": null, "ups": 4, "mod_reason_by": null, "banned_by": null, "removal_reason": null, "link_id": "t3_868zxc", "likes": null, "no_follow": true, "replies": {"kind": "Listing", "data": {"after": null, "whitelist_status": "all_ads", "modhash": "", "dist": null, "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2s3qj", "approved_at_utc": null, "ups": 1, "mod_reason_by": null, "banned_by": null, "removal_reason": null, "link_id": "t3_868zxc", "likes": null, "no_follow": true, "replies": {"kind": "Listing", "data": {"after": null, "whitelist_status": "all_ads", "modhash": "", "dist": null, "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2s3qj", "approved_at_utc": null, "ups": 1, "mod_reason_by": null, "banned_by": null, "removal_reason": null, "link_id": "t3_868zxc", "likes": null, "no_follow": true, "replies": "", "user_reports": [], "saved": false, "id": "dw4wxth", "banned_at_utc": null, "mod_reason_title": null, "gilded": 0, "archived": false, "report_reasons": null, "author": "makriath", "can_mod_post": false, "send_replies": true, "parent_id": "t1_dw4vrv4", "score": 1, "approved_by": null, "downs": 0, "body": "Glad to be of help.  Just so you know, the stickied threads in our sub over at r/BitcoinDiscussion are a great place to ask these questions.  Our membership is really knowledgeable, and it's a smaller community so questions are less likely to get lost in all the traffic.\n\nI hope you give us a look!", "edited": false, "author_flair_css_class": null, "collapsed": false, "is_submitter": false, "collapsed_reason": null, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Glad to be of help.  Just so you know, the stickied threads in our sub over at &lt;a href=\"/r/BitcoinDiscussion\"&gt;r/BitcoinDiscussion&lt;/a&gt; are a great place to ask these questions.  Our membership is really knowledgeable, and it&amp;#39;s a smaller community so questions are less likely to get lost in all the traffic.&lt;/p&gt;\n\n&lt;p&gt;I hope you give us a look!&lt;/p&gt;\n&lt;/div&gt;", "subreddit_type": "public", "can_gild": true, "subreddit": "Bitcoin", "name": "t1_dw4wxth", "score_hidden": false, "permalink": "/r/Bitcoin/comments/868zxc/lightning_networks_revocable_commitments/dw4wxth/", "num_reports": null, "stickied": false, "created": 1521795210.0, "author_flair_text": null, "created_utc": 1521766410.0, "subreddit_name_prefixed": "r/Bitcoin", "controversiality": 0, "depth": 2, "mod_reports": [], "mod_note": null, "distinguished": null}}], "before": null}}, "user_reports": [], "saved": false, "id": "dw4vrv4", "banned_at_utc": null, "mod_reason_title": null, "gilded": 0, "archived": false, "report_reasons": null, "author": "helinwang", "can_mod_post": false, "send_replies": true, "parent_id": "t1_dw3b1tv", "score": 1, "approved_by": null, "downs": 0, "body": "Thank you! Your explanation is well. Before I thought A will get the revocation key before the M+1 commitment, but actually it's the reverse.\n", "edited": false, "author_flair_css_class": null, "collapsed": false, "is_submitter": true, "collapsed_reason": null, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Thank you! Your explanation is well. Before I thought A will get the revocation key before the M+1 commitment, but actually it&amp;#39;s the reverse.&lt;/p&gt;\n&lt;/div&gt;", "subreddit_type": "public", "can_gild": true, "subreddit": "Bitcoin", "name": "t1_dw4vrv4", "score_hidden": false, "permalink": "/r/Bitcoin/comments/868zxc/lightning_networks_revocable_commitments/dw4vrv4/", "num_reports": null, "stickied": false, "created": 1521794025.0, "author_flair_text": null, "created_utc": 1521765225.0, "subreddit_name_prefixed": "r/Bitcoin", "controversiality": 0, "depth": 1, "mod_reports": [], "mod_note": null, "distinguished": null}}], "before": null}}, "user_reports": [], "saved": false, "id": "dw3b1tv", "banned_at_utc": null, "mod_reason_title": null, "gilded": 0, "archived": false, "report_reasons": null, "author": "makriath", "can_mod_post": false, "send_replies": true, "parent_id": "t3_868zxc", "score": 4, "approved_by": null, "downs": 0, "body": "Hi /u/helinwang,\n\nI think you have a slightly oversimplified understanding of how channel states are updated.\n\nAt the end of each state update (that is, each lightning transaction), each party will hold their own version of a commitment transaction that allows them to unilaterally close the channel *by broadcasting that commitment transaction* (a transaction must be broadcasted and confirmed for the channel to close).  Let's assume that A wants to close the channel without discussing with B first.\n\nIf A broadcast's her copy of the commitment transaction, B's funds will become immediately spendable by B, but A's funds will have a slightly more restrictive output: after a certain number of blocks, A can spend her funds OR B can immediately spend all of A's funds *if and only if* B knows the revocation key (known by A).\n\nIf B doesn't know the revocation key, that's OK.  A just needs to wait for a while, and then the channel is closed.\n\nNow, if A sends some bitcoins to B, the channel state gets updated.  This will (among other things) involve A revealing the revocation key from the previous commitment transaction to B.  What this means, is that if A tries to cheat by broadcasting the previous state of the channel, then B will be able to steal all of A's funds, since B knows the revocation key of the previous transaction.\n\nI don't know if I explained that comprehensibly or not, so let me know if I need to clarify any of it and I'll get back to you.", "edited": false, "author_flair_css_class": null, "collapsed": false, "is_submitter": false, "collapsed_reason": null, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Hi &lt;a href=\"/u/helinwang\"&gt;/u/helinwang&lt;/a&gt;,&lt;/p&gt;\n\n&lt;p&gt;I think you have a slightly oversimplified understanding of how channel states are updated.&lt;/p&gt;\n\n&lt;p&gt;At the end of each state update (that is, each lightning transaction), each party will hold their own version of a commitment transaction that allows them to unilaterally close the channel &lt;em&gt;by broadcasting that commitment transaction&lt;/em&gt; (a transaction must be broadcasted and confirmed for the channel to close).  Let&amp;#39;s assume that A wants to close the channel without discussing with B first.&lt;/p&gt;\n\n&lt;p&gt;If A broadcast&amp;#39;s her copy of the commitment transaction, B&amp;#39;s funds will become immediately spendable by B, but A&amp;#39;s funds will have a slightly more restrictive output: after a certain number of blocks, A can spend her funds OR B can immediately spend all of A&amp;#39;s funds &lt;em&gt;if and only if&lt;/em&gt; B knows the revocation key (known by A).&lt;/p&gt;\n\n&lt;p&gt;If B doesn&amp;#39;t know the revocation key, that&amp;#39;s OK.  A just needs to wait for a while, and then the channel is closed.&lt;/p&gt;\n\n&lt;p&gt;Now, if A sends some bitcoins to B, the channel state gets updated.  This will (among other things) involve A revealing the revocation key from the previous commitment transaction to B.  What this means, is that if A tries to cheat by broadcasting the previous state of the channel, then B will be able to steal all of A&amp;#39;s funds, since B knows the revocation key of the previous transaction.&lt;/p&gt;\n\n&lt;p&gt;I don&amp;#39;t know if I explained that comprehensibly or not, so let me know if I need to clarify any of it and I&amp;#39;ll get back to you.&lt;/p&gt;\n&lt;/div&gt;", "subreddit_type": "public", "can_gild": true, "subreddit": "Bitcoin", "name": "t1_dw3b1tv", "score_hidden": false, "permalink": "/r/Bitcoin/comments/868zxc/lightning_networks_revocable_commitments/dw3b1tv/", "num_reports": null, "stickied": false, "created": 1521725114.0, "author_flair_text": null, "created_utc": 1521696314.0, "subreddit_name_prefixed": "r/Bitcoin", "controversiality": 0, "depth": 0, "mod_reports": [], "mod_note": null, "distinguished": null}}, {"kind": "t1", "data": {"subreddit_id": "t5_2s3qj", "approved_at_utc": null, "ups": 2, "mod_reason_by": null, "banned_by": null, "removal_reason": null, "link_id": "t3_868zxc", "likes": null, "no_follow": true, "replies": {"kind": "Listing", "data": {"after": null, "whitelist_status": "all_ads", "modhash": "", "dist": null, "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2s3qj", "approved_at_utc": null, "ups": 1, "mod_reason_by": null, "banned_by": null, "removal_reason": null, "link_id": "t3_868zxc", "likes": null, "no_follow": true, "replies": "", "user_reports": [], "saved": false, "id": "dw4vsgt", "banned_at_utc": null, "mod_reason_title": null, "gilded": 0, "archived": false, "report_reasons": null, "author": "helinwang", "can_mod_post": false, "send_replies": true, "parent_id": "t1_dw3fmv6", "score": 1, "approved_by": null, "downs": 0, "body": "Thank you!", "edited": false, "author_flair_css_class": null, "collapsed": false, "is_submitter": true, "collapsed_reason": null, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Thank you!&lt;/p&gt;\n&lt;/div&gt;", "subreddit_type": "public", "can_gild": true, "subreddit": "Bitcoin", "name": "t1_dw4vsgt", "score_hidden": false, "permalink": "/r/Bitcoin/comments/868zxc/lightning_networks_revocable_commitments/dw4vsgt/", "num_reports": null, "stickied": false, "created": 1521794042.0, "author_flair_text": null, "created_utc": 1521765242.0, "subreddit_name_prefixed": "r/Bitcoin", "controversiality": 0, "depth": 1, "mod_reports": [], "mod_note": null, "distinguished": null}}], "before": null}}, "user_reports": [], "saved": false, "id": "dw3fmv6", "banned_at_utc": null, "mod_reason_title": null, "gilded": 0, "archived": false, "report_reasons": null, "author": "halfik", "can_mod_post": false, "send_replies": true, "parent_id": "t3_868zxc", "score": 2, "approved_by": null, "downs": 0, "body": "A and B can close channels with out other side. But there it will take 144 blocks atm. Its time given to other side to broadcast own closing transacion or penalty transaction in case other side is trying to cheat. But bottom is you dont need other side to close channel.", "edited": false, "author_flair_css_class": null, "collapsed": false, "is_submitter": false, "collapsed_reason": null, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;A and B can close channels with out other side. But there it will take 144 blocks atm. Its time given to other side to broadcast own closing transacion or penalty transaction in case other side is trying to cheat. But bottom is you dont need other side to close channel.&lt;/p&gt;\n&lt;/div&gt;", "subreddit_type": "public", "can_gild": true, "subreddit": "Bitcoin", "name": "t1_dw3fmv6", "score_hidden": false, "permalink": "/r/Bitcoin/comments/868zxc/lightning_networks_revocable_commitments/dw3fmv6/", "num_reports": null, "stickied": false, "created": 1521734900.0, "author_flair_text": null, "created_utc": 1521706100.0, "subreddit_name_prefixed": "r/Bitcoin", "controversiality": 0, "depth": 0, "mod_reports": [], "mod_note": null, "distinguished": null}}], "before": null}